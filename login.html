<html>
<head>
    <script src="http://chatroom.bmob.cn/javascripts/jquery.min.js"></script>
    <script src="http://chatroom.bmob.cn/javascripts/bmob.js"></script>
    <script src="http://chatroom.bmob.cn/javascripts/bmobSocketIo.js"></script>
</head>
<body>

<table>
<tr><td>用户名</td><td><input type="text" id="userId" value="Id"></input></td></tr>
<tr><td>密码</td><td><input type="text" id="userPass" value="Pass"></input></td></tr>
<tr><td>邮箱</td><td><input type="text" id="userEmail" value="Email"></input></td></tr>
<tr><td>电话</td><td><input type="text" id="userTel" value="Tel"></input></td></tr>
<tr><td><input type="button" onclick="sign();" text="注册"></input></td><td><input type="button" onclick="sign();" value="登陆"></input></td></tr>
</table>


<script>
function sign(){
Bmob.initialize("4733f138065d979e5bea5a43bd4bdf0a", "e78ae2b9cf7e63e9066f6336a6822a1c");
var user = new Bmob.User();
user.set("username", document.getElementById("userId").value);
user.set("password", document.getElementById("userPass").value);
user.set("email", document.getElementById("userEmail").value);

// other fields can be set just like with Bmob.Object
user.set("phone", document.getElementById("userTel").value);

user.save(null, {
  success: function(user) {
    // Hooray! Let them use the app now.
    console.log("success");
  },
  error: function(user, error) {
    // Show the error message somewhere and let the user try again.
    alert("Error: " + error.code + " " + error.message);
  }
});


}
function login(){
Bmob.initialize("4733f138065d979e5bea5a43bd4bdf0a", "e78ae2b9cf7e63e9066f6336a6822a1c");
var UserInfo = Bmob.Object.extend("_User");
var query = new Bmob.Query(UserInfo);
query.equalTo("username", document.getElementById("userId").value); 
query.equalTo("password", document.getElementById("userPass").value); 
// 查询所有数据
query.find({
    success: function(results) {
        alert("共查询到 " + results.length + " 条记录");
        // 循环处理查询到的数据
        for (var i = 0; i < results.length; i++) {
        var object = results[i];
        alert(object.id + ' - ' + object.get('username'));
        }
    },
    error: function(error) {
        alert("查询失败: " + error.code + " " + error.message);
    }
});
}
</script>
</body>
</html>
